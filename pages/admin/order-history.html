<!---
File: order-history.html

This HTML file contains elements to display the order history of recent purchases for the application
Version: 1.0
Author: Johan Herelius

-->
<div class="row">
    <div class="col-md-6">

        <!-- SEARCH/FILTER THINGY -->
        <form role="search">
            <div class="form-group">
                <input type="text" class="form-control" placeholder="Search" ng-model="search">
            </div>
        </form>


        <div class="list-group">
            <div class="list-group-item">
                <h4 class="list-group-item-heading">
                    <span i18n="USERNAME"><span>
                    <span class="pull-right">Date</span>
                </h4>
            </div>

            <button ng-click="checkOrder(value)" id="{{value[0].id}}" class="list-group-item" ng-repeat="(key, value) in content | filter:search | orderBy:value.length:true" data-beerid="{{ value[0].id }}">
                <h4 class="list-group-item-heading">
                    {{ value[0].first_name }} {{ value[0].last_name }}
                    <span class="pull-right">{{value[0].timestamp}}</span>
                </h4>
            </button>

        </div>
    </div>
    <div class="col-md-1">
        <div class="panel panel-default cart">
            <div class="panel-heading"><span i18n="ORDER_DETAILS"></span></div>

            <table class="table table-hover">
                <thead>
                    <tr>
                        <th><span i18n="NAME"></span></th>
                        <th class="text-right"><span i18n="PRICE"></span></th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-hide="currentBeers.length">
                        <td colspan="2" class="text-muted">Click on a user on the left to see his/her orders.</td>
                    </tr>
                    <tr ng-repeat="beer in currentBeers">
                        <td>{{ beer.namn }}&nbsp;<small>{{ beer.namn2 }}</small></td>
                        <td class="text-right">{{ beer.price }}&nbsp;SEK</td>
                    </tr>
                <tfoot>
                    <tr>
                        <td colspan="2" class="text-right text-uppercase">
                            <span i18n="TOTAL"></span>:&nbsp;{{ getTotal() }}&nbsp;SEK<br>
                            <span i18n="ITEMS"></span>:&nbsp;{{ currentBeers.length }}
                        </td>
                    </tr>
                </tfoot>

                </tbody>
            </table>


        </div>
    </div>
</div>
